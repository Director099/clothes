!function(t){"function"==typeof define&&define.amd?define("custom",t):t()}(function(){"use strict";class e{constructor(t){this.controls={field:null,lessBtn:null,moreBtn:null},this.state={min:null,max:null,current:null},this.init(t)}init(t){this.controls.field=t.querySelector("[data-count]"),this.controls.lessBtn=t.querySelector('[data-control="minus"]'),this.controls.moreBtn=t.querySelector('[data-control="plus"]'),this.state.min=parseInt(this.controls.field.min),this.state.max=parseInt(this.controls.field.max),this.state.current=this.state.min,this.setListeners()}setCurrent(t){this.state.current=t,this.controls.field.value=t}lessCount(){var t=this.state.current-1;t<this.state.min||this.setCurrent(t)}moreCount(){var t=this.state.current+1;t>this.state.max||this.setCurrent(t)}setListeners(){let s=0;var t=["moreBtn","lessBtn"];const r=["mousedown","touchstart"],n=["mouseup","mouseleave","mouseout","touchend"],l=t=>"moreBtn"===t?this.moreCount():this.lessCount();this.controls.lessBtn.addEventListener("click",()=>this.lessCount()),this.controls.moreBtn.addEventListener("click",()=>this.moreCount()),this.controls.field.addEventListener("input",()=>{var t=this.state.max.toString().length;this.controls.field.value=this.controls.field.value.replace(/\D/g,""),"0"==this.controls.field.value[0]&&this.controls.field.value.length>=t&&(this.controls.field.value=this.controls.field.value.replace(/0/g,"")),parseInt(this.controls.field.value)>this.state.max&&(this.controls.field.value=this.state.max),this.state.current=parseInt(this.controls.field.value)}),this.controls.field.addEventListener("change",()=>{parseInt(this.controls.field.value)<this.state.min&&(this.controls.field.value=this.state.min,this.state.current=parseInt(this.controls.field.value))}),t.forEach(e=>r.forEach(t=>this.controls[e].addEventListener(t,()=>{clearInterval(s),s=setInterval(()=>l(e),175)}))),t.forEach(e=>n.forEach(t=>this.controls[e].addEventListener(t,()=>{clearInterval(s)})))}}document.querySelectorAll("[data-counter]").forEach(t=>new e(t));var t=document.querySelectorAll("[data-gallery-thumbs]");const s=new Swiper("[data-gallery-top]",{slidesPerView:1,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});t?.forEach(t=>t?.addEventListener("click",t=>s.slideTo(t.currentTarget.dataset.galleryThumbs))),Fancybox.bind("[data-fancybox]",{dragToClose:!1}),document.querySelectorAll("[data-smooth-scroll]")?.forEach(e=>e.addEventListener("click",t=>{t.preventDefault(),Fancybox.close();t=e.getAttribute("href");document.querySelector(t).scrollIntoView({behavior:"smooth",block:"start"})})),document.querySelectorAll('[type="tel"]').forEach(t=>{IMask(t,{mask:"{+7} (000) 000 00 00",lazy:!1})}),document.querySelectorAll("[data-form]").forEach(e=>{const n=new Pristine(e,{classTo:"field-text",errorTextParent:"field-text"});["submit","input"].forEach(t=>e.addEventListener(t,t=>{return t=t,e="disabled",s=n.validate(),r=n.form.querySelector("[data-form-btn]"),s?r.removeAttribute(e):r.setAttribute(e,e),!!s||t.preventDefault();var e,s,r}))})});